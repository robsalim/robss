<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–£–º–Ω–∞—è —Ä–æ–∑–µ—Ç–∫–∞</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; padding: 20px; }
        button { padding: 10px 20px; font-size: 16px; margin: 10px; }
    </style>
</head>
<body>
    <h1>üîå –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–∑–µ—Ç–∫–æ–π</h1>
    <button id="btn-on">–í–∫–ª—é—á–∏—Ç—å</button>
    <button id="btn-off">–í—ã–∫–ª—é—á–∏—Ç—å</button>
    <p id="status">–°—Ç–∞—Ç—É—Å: –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ</p>

    <script>
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ Web App –æ—Ç–∫—Ä—ã—Ç –≤ Telegram
        if (window.Telegram.WebApp) {
            Telegram.WebApp.expand(); // –†–∞—Å–∫—Ä—ã–≤–∞–µ–º –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
            Telegram.WebApp.enableClosingConfirmation(); // –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–∫—Ä—ã—Ç–∏—è

            // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –æ—Ç –±–æ—Ç–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
            const initData = Telegram.WebApp.initData;
            console.log("Init Data:", initData);
        }

        // –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–º–∞–Ω–¥ –Ω–∞ —Å–µ—Ä–≤–µ—Ä/–±–æ—Ç–∞
        document.getElementById("btn-on").addEventListener("click", () => {
            sendCommand("/on");
        });

        document.getElementById("btn-off").addEventListener("click", () => {
            sendCommand("/off");
        });

        function sendCommand(cmd) {
            if (window.Telegram.WebApp) {
                // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–æ–º–∞–Ω–¥—É —á–µ—Ä–µ–∑ Bot API
                fetch(`https://api.telegram.org/bot+/sendMessage?chat_id=+&text=${cmd}`);
                //fetch(`https://sixth-palm-espadrille.glitch.me//send-command?cmd=${cmd}`);

                Telegram.WebApp.showAlert("–ö–æ–º–∞–Ω–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞: " + cmd);
            } else {
                alert("–ö–æ–º–∞–Ω–¥–∞ (—Ç–µ—Å—Ç): " + cmd);
            }
        }
    </script>
</body>
</html>
